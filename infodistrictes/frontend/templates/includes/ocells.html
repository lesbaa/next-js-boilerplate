<div id="container"></div>

<script>

    var data = [{
        'id': '0.0',
        'parent': '',
        'name': "OCELLS",
        'value': 1,
        'color': "#f5f5f5"
    }, {
        'id': '1.1',
        'parent': '0.0',
        'name': 'ANATIDAE',
        'color': "#126D8E"
    }, {
        'id': '2.1',
        'parent': '1.1',
        'name': 'Xarxet comú',
        'value': 1,
        'color': "#126D8E",
        'img': 'xarxet_comu.jpg',
        'cient': 'Anas crecca crecca',
        'cast':'Cerceta Común',
        'eng': 'Eurasian Teal',
        'estatus': 'P, W'

    }, {
        'id': '2.2',
        'parent': '1.1',
        'name': 'Ànec coll-verd',
        'value': 1,
        'color': "#126D8E",
        'img': 'anec_collverd.jpg',
        'cient': 'Anas platyrhynchos platyrhynchos',
        'cast':'Ánade Azulón',
        'eng': 'Mallard',
        'estatus': 'BR, P, W'
    }, {
        'id': '2.3',
        'parent': '1.1',
        'name': 'Ànec cullerot',
        'value': 1,
        'color': "#126D8E",
        'img': 'anec_cullerot.jpg',
        'cient': 'Anas clypeata',
        'cast':'Cuchara Común',
        'eng': 'Northen Shoveler',
        'estatus': 'P, W'
    }, {
        'id': '2.4',
        'parent': '1.1',
        'name': 'Xibec',
        'value': 1,
        'color': "#126D8E",
        'img': 'xibec.jpg',
        'cient': 'Netta rufina',
        'cast':'Pato Colorado',
        'eng': 'Red-crested Pochard',
        'estatus': 'P, W'
    }, {
        'id': '1.2',
        'parent': '0.0',
        'name': 'PHALACROCORACIDAE',
        'color': "#10516D"
    }, {
        'id': '2.5',
        'parent': '1.2',
        'name': 'Corb marí gros',
        'value': 1,
        'color': "#10516D",
        'img': 'corb_mari.jpg',
        'cient': 'Phalacrocorax carbo sinensis',
        'cast':'Cormorán Grande',
        'eng': 'Great Cormorant',
        'estatus': 'P, W'
    }, {
        'id': '1.3',
        'parent': '0.0',
        'name': 'ARDEIDAE',
        'color': "#0F354B"
    }, {
        'id': '2.6',
        'parent': '1.3',
        'name': 'Martinet de nit',
        'value': 1,
        'color': "#0F354B",
        'img': 'martinet_de_nit.jpg',
        'cient': 'Nycticorax nycticorax nycticorax',
        'cast':'Martinete Común',
        'eng': 'Black-crowned Night-Heron',
        'estatus': 'BR, P, W'
    }, {
        'id': '2.7',
        'parent': '1.3',
        'name': 'Esplugabous',
        'value': 1,
        'color': "#0F354B",
        'img': 'esplugabous.jpg',
        'cient': 'Bubulcus ibis ibis',
        'cast':'Garcilla Bueyera',
        'eng': 'Cattle Egret',
        'estatus': 'P, W'
    }, {
        'id': '2.8',
        'parent': '1.3',
        'name': 'Martinet blanc',
        'value': 1,
        'color': "#0F354B",
        'img': 'martinet_blanc.jpg',
        'cient': 'Egretta garzetta garzetta',
        'cast':'Garceta Común',
        'eng': 'Little Egret',
        'estatus': 'P, W'
    }, {
        'id': '2.9',
        'parent': '1.3',
        'name': 'Bernat pescaire',
        'value': 1,
        'color': "#0F354B",
        'img': 'bernat_pescaire.jpg',
        'cient': 'Ardea cinerea cinerea',
        'cast':'Garza Real',
        'eng': 'Grey Heron',
        'estatus': 'P, W'
    }, {
        'id': '1.4',
        'parent': '0.0',
        'name': 'THRESKIORNITHIDAE',
        'color': "#B8281B"
    }, {
        'id': '2.10',
        'parent': '1.4',
        'name': 'Capó reial',
        'value': 1,
        'color': "#B8281B",
        'img': 'capo_reial.jpg',
        'cient': 'Plegadis falcinellus falcinellus',
        'cast':'Morito Común',
        'eng': 'Glossy Ibis',
        'estatus': 'P, W'
    }, {
        'id': '1.5',
        'parent': '0.0',
        'name': 'PHOENICOPTERIDAE',
        'color': "#D4441D"
    }, {
        'id': '2.11',
        'parent': '1.5',
        'name': 'Flamenc',
        'value': 1,
        'color': "#D4441D",
        'img': 'flamenc.jpg',
        'cient': 'Phoenicopterus roseus',
        'cast':'Flamenco Común',
        'eng': 'Greater Flamingo',
        'estatus': 'P, W'
    }, {
        'id': '1.6',
        'parent': '0.0',
        'name': 'RALLIDAE',
        'color': "#EF601E"
    }, {
        'id': '2.12',
        'parent': '1.6',
        'name': 'Rascló',
        'value': 1,
        'color': "#EF601E",
        'img': 'rasclo.jpg',
        'cient': 'Rallus aquaticus aquaticus',
        'cast':'Rascón Europeo',
        'eng': 'Water Rail',
        'estatus': 'P, W'
    }, {
        'id': '2.13',
        'parent': '1.6',
        'name': "Polla d'aigua",
        'value': 1,
        'color': "#EF601E",
        'img': 'polla_daigua.jpg',
        'cient': 'Gallinula chloropus chloropus',
        'cast':'Gallineta Común',
        'eng': 'Common Moorhen',
        'estatus': 'BR'
    }, {
        'id': '2.14',
        'parent': '1.6',
        'name': 'Fotja vulgar',
        'value': 1,
        'color': "#EF601E",
        'img': 'fotja_vulgar.jpg',
        'cient': 'Fulica atra atra',
        'cast':'Focha Común',
        'eng': 'Eurasian Coot',
        'estatus': 'P, W'
    }, {
        'id': '1.7',
        'parent': '0.0',
        'name': 'RECURVIROSTRIDAE',
        'color': "#ED7F27"
    }, {
        'id': '2.15',
        'parent': '1.7',
        'name': 'Cames llargues',
        'value': 1,
        'color': "#ED7F27",
        'img': 'cames_llargues.jpg',
        'cient': 'Himantopus himantopus himantopus',
        'cast':'Cigüeñuela Común',
        'eng': 'Black-winged Stilt',
        'estatus': 'P'
    }, {
        'id': '2.16',
        'parent': '1.7',
        'name': "Bec d'alena",
        'value': 1,
        'color': "#ED7F27",
        'img': 'bec_dalena.jpg',
        'cient': 'Recurvirostra avosetta',
        'cast':'Avoceta Común',
        'eng': 'Pied Avocet',
        'estatus': 'P, W'
    }, {
        'id': '1.8',
        'parent': '0.0',
        'name': 'CHARADRIIDAE',
        'color': "#E9A031"
    }, {
        'id': '2.17',
        'parent': '1.8',
        'name': 'Fredeluga',
        'value': 1,
        'color': "#E9A031",
        'img': 'fredeluga.jpg',
        'cient': 'Vanellus vanellus',
        'cast':'Avefría Europea',
        'eng': 'Northern Lapwing',
        'estatus': 'P, W'
    }, {
        'id': '1.9',
        'parent': '0.0',
        'name': 'SCOLOPACIDAE',
        'color': "#E8C03C"
    }, {
        'id': '2.18',
        'parent': '1.9',
        'name': 'Tètol cuanegre',
        'value': 1,
        'color': "#E8C03C",
        'img': 'tetol_cuanegre.jpg',
        'cient': 'Limosa limosa limosa',
        'cast':'Aguja Colinegra',
        'eng': 'Black-tailed Godwit',
        'estatus': 'P, W'
    }, {
        'id': '2.19',
        'parent': '1.9',
        'name': 'Territ becllarg',
        'value': 1,
        'color': "#E8C03C",
        'img': 'territ_becllarg.jpg',
        'cient': 'Calidris ferruginea',
        'cast':'Correlimos Zarapitín',
        'eng': 'Curlew Sandpiper',
        'estatus': 'P'
    }, {
        'id': '2.20',
        'parent': '1.9',
        'name': 'Territ menut',
        'value': 1,
        'color': "#E8C03C",
        'img': 'territ_menut.jpg',
        'cient': 'Calidris minuta',
        'cast':'Correlimos Menudo',
        'eng': 'Little Stint',
        'estatus': 'P, W'
    }, {
        'id': '2.21',
        'parent': '1.9',
        'name': 'Gamba roja vulgar',
        'value': 1,
        'color': "#E8C03C",
        'img': 'gamba_roja_vulgar.jpg',
        'cient': 'Tringa totanus totanus',
        'cast':'Archibebe Común',
        'eng': 'Common Redshank',
        'estatus': 'P'
    }, {
        'id': '2.22',
        'parent': '1.9',
        'name': 'Becadell comú',
        'value': 1,
        'color': "#E8C03C",
        'img': 'becadell_comu.jpg',
        'cient': 'Gallinago gallinago gallinago',
        'cast':'Agachadiza Común',
        'eng': 'Common Snipe',
        'estatus': 'P, W'
    }, {
        'id': '1.10',
        'parent': '0.0',
        'name': 'STERNIDAE',
        'color': "#98AF61"
    }, {
        'id': '2.23',
        'parent': '1.10',
        'name': 'Fumarell carablanc',
        'value': 1,
        'color': "#98AF61",
        'img': 'fumarell_carablanc.jpg',
        'cient': 'Chlidonias hybrida hybrida',
        'cast':'Fumarel Cariblanco',
        'eng': 'Whiskered Tern',
        'estatus': 'BS, P'
    }, {
        'id': '2.24',
        'parent': '1.10',
        'name': 'Fumarell negre',
        'value': 1,
        'color': "#98AF61",
        'img': 'fumarell_negre.jpg',
        'cient': 'Chlidonias niger niger',
        'cast':'Fumarel Común ',
        'eng': 'Black Tern',
        'estatus': 'P'
    }, {
        'id': '2.25',
        'parent': '1.10',
        'name': 'Xatrac becllarg',
        'value': 1,
        'color': "#98AF61",
        'img': 'xatrac_becllarg.jpg',
        'cient': 'Sterna sandvicensis sandvicensis',
        'cast':'Charrán Patinegro',
        'eng': 'Sandwich Tern',
        'estatus': 'BS, P'
    }, {
        'id': '2.26',
        'parent': '1.10',
        'name': 'Xatrac comú',
        'value': 1,
        'color': "#98AF61",
        'img': 'xatrac_comu.jpg',
        'cient': 'Sterna hirundo hirundo',
        'cast':'Charrán Común',
        'eng': 'Common Tern',
        'estatus': 'BS, P'
    }, {
        'id': '1.11',
        'parent': '0.0',
        'name': 'LARIDAE',
        'color': "#529D88"
    }, {
        'id': '2.27',
        'parent': '1.11',
        'name': 'Gavina vulgar',
        'value': 1,
        'color': "#529D88",
        'img': 'gavina_vulgar.jpg',
        'cient': 'Chroicocephalus ridibundus',
        'cast':'Gaviota Reidora',
        'eng': 'Black-headed Gull',
        'estatus': 'BR, P, W'
    }, {
        'id': '2.28',
        'parent': '1.11',
        'name': 'Gavina capnegra',
        'value': 1,
        'color': "#529D88",
        'img': 'gavina_capnegre.jpg',
        'cient': 'Larus melanocephalus',
        'cast':'Gaviota Cabecinegra',
        'eng': 'Mediterranean Gull',
        'estatus': 'P, W'
    }, {
        'id': '2.29',
        'parent': '1.11',
        'name': 'Gavina corsa',
        'value': 1,
        'color': "#529D88",
        'img': 'gavina_corsa.jpg',
        'cient': 'Larus audouinii',
        'cast':'Gaviota de Audouin',
        'eng': "Audouin's Gull",
        'estatus': 'BS, P'
    }, {
        'id': '2.30',
        'parent': '1.11',
        'name': 'Gavià argentat de potes grogues',
        'value': 1,
        'color': "#529D88",
        'img': 'gavia_argentat_de_potes_grogues.jpg',
        'cient': 'Larus michahellis michahellis',
        'cast':'Gaviota Patiamarilla',
        'eng': 'Yellow-legged Gull',
        'estatus': 'BR, P, W'
    }, {
        'id': '1.12',
        'parent': '0.0',
        'name': 'APODIDAE',
        'color': "#138AB1"
    }, {
        'id': '2.31',
        'parent': '1.12',
        'name': 'Falciot negre',
        'value': 1,
        'color': "#138AB1",
        'img': 'falciot_negre.jpg',
        'cient': 'Apus apus apus',
        'cast':'Vencejo Común',
        'eng': 'Common Swift',
        'estatus': 'P'
    }, {
        'id': '1.13',
        'parent': '0.0',
        'name': 'HIRUNDINIDAE',
        'color': "#126D8E"
    }, {
        'id': '2.33',
        'parent': '1.13',
        'name': 'Oreneta de ribera',
        'value': 1,
        'color': "#126D8E",
        'img': 'oreneta_de_ribera.jpg',
        'cient': 'Riparia riparia riparia',
        'cast':'Avión Zapador',
        'eng': 'Sand Martin',
        'estatus': 'P'
    }, {
        'id': '2.34',
        'parent': '1.13',
        'name': 'Oreneta vulgar',
        'value': 1,
        'color': "#126D8E",
        'img': 'oreneta_vulgar.jpg',
        'cient': 'Hirundo rustica rustica',
        'cast':'Golondrina Común ',
        'eng': 'Barn Swallow',
        'estatus': 'P'
    },{
        'id': '1.14',
        'parent': '0.0',
        'name': 'CETTIDAE',
        'color': "#10516D"
    }, {
        'id': '2.35',
        'parent': '1.14',
        'name': 'Rossinyol bord',
        'value': 1,
        'color': "#10516D",
        'img': 'rossinyol_bord.jpg',
        'cient': 'Cettia cetti cetti',
        'cast':'Cetia Ruiseñor ',
        'eng': "Cetti's Warbler",
        'estatus': 'P'
    }, {
        'id': '1.15',
        'parent': '0.0',
        'name': 'PHYLLOSCOPIDAE',
        'color': "#0F354B"
    }, {
        'id': '2.36',
        'parent': '1.15',
        'name': 'Mosquiter comú',
        'value': 1,
        'color': "#0F354B",
        'img': 'mosquiter_comu.jpg',
        'cient': 'Phylloscopus collybita collybita',
        'cast':'Mosquitero Común',
        'eng': 'Common Chiffcaff',
        'estatus': 'P, W'
    }, {
        'id': '2.37',
        'parent': '1.15',
        'name': 'Mosquiter de passa',
        'value': 1,
        'color': "#0F354B",
        'img': 'mosquiter_de_passa.jpg',
        'cient': 'Phylloscopus trochilus trochilus',
        'cast':'Mosquitero Musical',
        'eng': 'Willow Warble',
        'estatus': 'P'
    }, {
        'id': '1.16',
        'parent': '0.0',
        'name': 'SYLVIIDAE',
        'color': "#B8281B"
    }, {
        'id': '2.38',
        'parent': '1.16',
        'name': 'Tallarol de casquet',
        'value': 1,
        'color': "#B8281B",
        'img': 'tallarol_de_casquet.jpg',
        'cient': 'Sylvia atricapilla atricapilla',
        'cast':'Curruca Capirotada',
        'eng': 'Eurasian Blackcap',
        'estatus': 'P'
    }, {
        'id': '1.17',
        'parent': '0.0',
        'name': 'ACROCEPHALIDAE',
        'color': "#D4441D"
    }, {
        'id': '2.39',
        'parent': '1.17',
        'name': 'Boscarla de canyar',
        'value': 1,
        'color': "#D4441D",
        'img': 'boscarla_de_canyar.jpg',
        'cient': 'Acrocephalus scirpaceus scirpaceus',
        'cast':'Carricero Común',
        'eng': 'Eurasian Reed Warbler',
        'estatus': 'BS, P'
    }, {
        'id': '1.18',
        'parent': '0.0',
        'name': 'CISTICOLIDAE',
        'color': "#EF601E"
    }, {
        'id': '2.40',
        'parent': '1.18',
        'name': 'Trist',
        'value': 1,
        'color': "#EF601E",
        'img': 'trist.jpg',
        'cient': 'Cisticola juncidis cisticola',
        'cast':'Cisticola Buitrón',
        'eng': 'Zitting Cisticola',
        'estatus': 'BR'
    }, {
        'id': '1.19',
        'parent': '0.0',
        'name': 'STURNIDAE',
        'color': "#ED7F27"
    }, {
        'id': '2.41',
        'parent': '1.19',
        'name': 'Estornell vulgar',
        'value': 1,
        'color': "#ED7F27",
        'img': 'estornell_vulgar.jpg',
        'cient': 'Sturnus vulgaris vulgaris',
        'cast':'Estornino Pinto',
        'eng': 'Common Starling',
        'estatus': 'P, W'
    }, {
        'id': '1.20',
        'parent': '0.0',
        'name': 'MUSCICAPIDAE',
        'color': "#E9A031"
    }, {
        'id': '2.42',
        'parent': '1.20',
        'name': 'Tord comú',
        'value': 1,
        'color': "#E9A031",
        'img': 'tord_comu.jpg',
        'cient': 'Turdus philomelos philomelos',
        'cast':'Zorzal Común',
        'eng': 'Song Thrush',
        'estatus': 'P'
    }, {
        'id': '2.43',
        'parent': '1.20',
        'name': 'Pit-roig',
        'value': 1,
        'color': "#E9A031",
        'img': 'pit-roig.jpg',
        'cient': 'Erithacus rubecula rubecula',
        'cast':'Petirrojo Europeo ',
        'eng': 'European Robin',
        'estatus': 'P'
    }, {
        'id': '2.44',
        'parent': '1.20',
        'name': 'Mastegatatxes',
        'value': 1,
        'color': "#E9A031",
        'img': 'mastegatatxes.jpg',
        'cient': 'Ficedula hypoleuca hypoleuca',
        'cast':'Papamoscas Cerrojillo ',
        'eng': 'European Pied Flycatcher',
        'estatus': 'P'
    }, {
        'id': '1.21',
        'parent': '0.0',
        'name': 'PASSERIDAE',
        'color': "#E8C03C"
    }, {
        'id': '2.45',
        'parent': '1.21',
        'name': 'Pardal comú',
        'value': 1,
        'color': "#E8C03C",
        'img': 'pardal_comu.jpg',
        'cient': 'Passer domesticus balearoibericus',
        'cast':'Gorrión Común ',
        'eng': 'House Sparrow',
        'estatus': 'BR'
    }, {
        'id': '1.22',
        'parent': '0.0',
        'name': 'MOTACILLIDAE',
        'color': "#98AF61"
    }, {
        'id': '2.46',
        'parent': '1.22',
        'name': 'Cuereta blanca',
        'value': 1,
        'color': "#98AF61",
        'img': 'cuereta_blanca.jpg',
        'cient': 'Motacilla alba alba',
        'cast':'Lavandera Blanca',
        'eng': 'White Wagtail',
        'estatus': 'P, W'
    }, {
        'id': '2.47',
        'parent': '1.22',
        'name': 'Titella',
        'value': 1,
        'color': "#98AF61",
        'img': 'titella.jpg',
        'cient': 'Anthus pratensis pratensis',
        'cast':'Bisbita Pratense ',
        'eng': 'Meadow Pipit',
        'estatus': 'BR, P, W'
    }, {
        'id': '1.23',
        'parent': '0.0',
        'name': 'EMBERIZIDAE',
        'color': "#529D88"
    }, {
        'id': '2.48',
        'parent': '1.23',
        'name': 'Repicatalons',
        'value': 1,
        'color': "#529D88",
        'img': 'repicatalons.jpg',
        'cient': 'Emberiza schoeniclus schoeniclus',
        'cast':'Escribano Palustre',
        'eng': 'Common Reed Bunting',
        'estatus': 'P, W'
    }
    ];


    // Splice in transparent for the center circle
    Highcharts.getOptions().colors.splice(0, 0, 'transparent');


    Highcharts.chart('container', {

        chart: {
            height: '75%',
            backgroundColor: "#f5f5f5",
            marginLeft: 250
        },

        title: {
            text: "Ocells al Delta de l'Ebre",
            align: 'left',
            style: {fontFamily: "Raleway", "color": "#000000"}
        },
        series: [{
            type: "sunburst",
            data: data,
            allowDrillToNode: true,
            cursor: 'pointer',
            dataLabels: {
                format: '{point.name}',
                allowOverlap: true,
                shadow: false,
                style: { fontFamily: "Raleway", lineHeight: '16px', width: '100%', textOutline: false},
                y: 5
            },
            levels: [{
                level: 1,
                levelIsConstant: false,
                levelSize: {
                    unit: 'percentage',
                    value: 20
                },
                color: "f5f5f5",
                dataLabels: {
                    rotation: 0,
                    shadow: false,
                    color: "#000000"
                }
            }, {
                level: 2,
                levelSize: {
                    unit: 'percentage',
                    value: 40
                }
            },
                {
                    level: 3,
                    colorVariation: {
                        key: 'brightness',
                        to: 0
                    },
                    levelSize: {
                        unit: 'percentage',
                        value: 40
                    }
                }, {
                    level: 4,
                    colorVariation: {
                        key: 'brightness',
                        to: 0
                    }
                }]

        }],
        tooltip:{
            useHTML: true,
            positioner: function () {
                return { x: 0, y: 50 };
            },
            shadow: false,
            borderWidth: 0,
            backgroundColor: '#f5f5f5',
            formatter: function () {
                if (this.point.node.level == 3){
                    s =  "<img class='imgocells' src='../static/assets/img/" + this.point.img + "'>";
                    return "<div style='width: 210px; white-space:normal; font-family: Raleway; font-size: 14px ;'>" + '<table> <tr> <th style="text-align:right;vertical-align: top;"> Català </th> <td style="text-align:left; vertical-align: top; padding-left: 10px; ">'+ this.point.name +'</td> </tr> <tr> <th style="text-align:right;vertical-align: top;"> Castellà </th> <td style="text-align:left; vertical-align: top; padding-left: 10px; ">' +this.point.cast + '</td> </tr> <tr> <th style="text-align:right;vertical-align: top;"> Anglès </th> <td style="text-align:left; vertical-align: top; padding-left: 10px; ">' +this.point.eng + '</td> </tr> <tr> <th style="text-align:right;vertical-align: top;"> Científic </th> <td style="text-align:left; vertical-align: top; padding-left: 10px; ">' +this.point.cient + '</td> </tr> <tr> <th style="text-align:right;vertical-align: top;"> Estatus </th> <td style="text-align:left; vertical-align: top; padding-left: 10px; ">' +this.point.estatus + '</td> </tr> </table>' + '<br/>'+ s + "</div>" ;

                } else {
                    return "<div style='width: 210px; white-space:normal; font-family: Raleway; font-size: 14px ;'>" + this.point.name;
                }},
            shared: true
        }

    });

</script>